{"ast":null,"code":"import _regeneratorRuntime from\"/Users/avikghosh/Documents/Programming/yelp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/avikghosh/Documents/Programming/yelp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/avikghosh/Documents/Programming/yelp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import RestaurantFinder from'../apis/RestaurantFinder';import{RestaurantsContext}from'../context/RestaurantsContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddReview=function AddReview(props){var _useContext=useContext(RestaurantsContext),addReviews=_useContext.addReviews;var _useParams=useParams(),id=_useParams.id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),reviewText=_useState4[0],setReviewText=_useState4[1];var _useState5=useState(\"(Select Star Rating)\"),_useState6=_slicedToArray(_useState5,2),rating=_useState6[0],setRating=_useState6[1];var handleSubmitReview=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return RestaurantFinder.post(\"/restaurants/\".concat(id,\"/addReview\"),{name:name,review:reviewText,rating:rating});case 4:response=_context.sent;console.log(response);addReviews(response.data.data.review);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function handleSubmitReview(_x){return _ref.apply(this,arguments);};}();var navigate=useNavigate();var handleReturnHome=function handleReturnHome(){navigate('/');};return/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-2 m-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Your Name\"}),/*#__PURE__*/_jsx(\"input\",{value:name,onChange:function onChange(e){return setName(e.target.value);},id:\"name\",placeholder:\"name\",type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-2 m-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rating\",children:\"Star Rating\"}),/*#__PURE__*/_jsxs(\"select\",{value:rating,onChange:function onChange(e){return setRating(e.target.value);},id:\"rating\",className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"Rating\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group m-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"review\",children:\"Review\"}),/*#__PURE__*/_jsx(\"textarea\",{value:reviewText,onChange:function onChange(e){return setReviewText(e.target.value);},id:\"review\",cols:\"30\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 text-center\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmitReview,className:\"btn btn-primary m-1\",children:\"Add Review\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleReturnHome,className:\"btn btn-secondary m-1\",children:\"Return Home\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\"})]})]})});};export default AddReview;","map":{"version":3,"names":["React","useContext","useState","useNavigate","useParams","RestaurantFinder","RestaurantsContext","jsx","_jsx","jsxs","_jsxs","AddReview","props","_useContext","addReviews","_useParams","id","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","reviewText","setReviewText","_useState5","_useState6","rating","setRating","handleSubmitReview","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","wrap","_callee$","_context","prev","next","preventDefault","post","concat","review","sent","console","log","data","t0","stop","_x","apply","arguments","navigate","handleReturnHome","className","children","action","htmlFor","value","onChange","target","placeholder","type","disabled","cols","onClick"],"sources":["/Users/avikghosh/Documents/Programming/yelp/client/src/components/AddReview.jsx"],"sourcesContent":["import React, {useContext, useState} from 'react'\nimport {useNavigate, useParams } from 'react-router-dom';\nimport RestaurantFinder from '../apis/RestaurantFinder';\nimport { RestaurantsContext } from '../context/RestaurantsContext';\n\nconst AddReview = (props) => {\n\n    const {addReviews} = useContext(RestaurantsContext)\n\n    const {id} = useParams();\n    const [name, setName]= useState(\"\");\n    const [reviewText, setReviewText]= useState(\"\");\n    const [rating, setRating]= useState(\"(Select Star Rating)\");\n    \n\n    const handleSubmitReview= async (e)=>{\n        e.preventDefault();\n        try{\n            const response = await RestaurantFinder.post(`/restaurants/${id}/addReview`,{\n                name,\n                review: reviewText,\n                rating\n            });\n            console.log(response);\n            addReviews(response.data.data.review);\n        }catch(err){\n            console.log(err);\n        }\n    }\n\n    const navigate = useNavigate();\n    const handleReturnHome = ()=>{\n        navigate('/')\n    }\n    \n  return (\n    <div className=\"mb-2\">\n        <form action=\"\">\n            <div className=\"form-row\">\n                <div className=\"form-group col-2 m-3\">\n                    <label htmlFor=\"name\">Your Name</label>\n                    <input value={name} onChange={(e)=>setName(e.target.value)} id=\"name\" placeholder=\"name\" type=\"text\" className=\"form-control\"/>\n                </div>\n                <div className=\"form-group col-2 m-3\">\n                    <label htmlFor=\"rating\">Star Rating</label>\n                    <select value={rating} onChange={(e)=>setRating(e.target.value)} id=\"rating\" className=\"form-control\">\n                        <option disabled>Rating</option>\n                        <option value=\"1\">1</option>\n                        <option value=\"2\">2</option>\n                        <option value=\"3\">3</option>\n                        <option value=\"4\">4</option>\n                        <option value=\"5\">5</option>\n                    </select>\n                </div>\n            </div>\n            <div className=\"form-group m-3\">\n                <label htmlFor=\"review\">Review</label>\n                <textarea value={reviewText} onChange={(e)=>setReviewText(e.target.value)} id=\"review\" cols=\"30\" className=\"form-control\"></textarea>\n            </div>\n            <div className=\"row\">\n                <div className=\"col-4\"></div>\n                <div className=\"col-4 text-center\">\n                    <button type=\"submit\" onClick={handleSubmitReview} className=\"btn btn-primary m-1\">Add Review</button>\n                    <button type=\"submit\" onClick={handleReturnHome} className=\"btn btn-secondary m-1\">Return Home</button>\n                </div>\n                <div className=\"col-4\"></div>\n            </div>\n        </form>\n    </div>\n  )\n}\n\nexport default AddReview"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}